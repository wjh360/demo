(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04351118"],{"059f":function(t,e,r){},"0b70":function(t,e,r){},"333d":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.total>0?r("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[r("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1):t._e()},a=[],i=(r("a9e3"),r("ac1f"),r("5319"),r("96cf"),r("1da1"));Math.easeInOutQuad=function(t,e,r,n){return t/=n/2,t<1?r/2*t*t+e:(t--,-r/2*(t*(t-2)-1)+e)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function c(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function u(t,e,r){var n=s(),a=t-n,i=20,u=0;e="undefined"===typeof e?500:e;var l=function t(){u+=i;var s=Math.easeInOutQuad(u,n,a,e);c(s),u<e?o(t):r&&"function"===typeof r&&r()};l()}var l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},data:function(){return{layouts:""}},created:function(){this.currentPage=this.$route.query.current||this.page,this.handleCurrentChange(this.currentPage)},computed:{currentPage:{get:function(){return this.$route.query.current||this.page},set:function(t){var e=JSON.parse(JSON.stringify(this.$route.query));this.$emit("update:page",t),e.current!=t&&t!=this.page&&(e.current=t,this.$router.replace({path:this.$route.path,query:e}))}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{delete:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=Math.ceil((e.total-t)/e.pageSize),e.currentPage>n&&(e.currentPage=n),e.handleCurrentChange(e.currentPage);case 3:case"end":return r.stop()}}),r)})))()},update:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:log(t),n=Math.ceil((t||1)/e.pageSize),e.currentPage>n&&(e.currentPage=n),e.handleCurrentChange(e.currentPage);case 4:case"end":return r.stop()}}),r)})))()},handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&u(0,800)},handleCurrentChange:function(t){log(7410,t),this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&u(0,800)}}},d=l,p=(r("a8e8"),r("2877")),f=Object(p["a"])(d,n,a,!1,null,"68eacec9",null);e["a"]=f.exports},"43ca":function(t,e,r){"use strict";r("059f")},"4f64":function(t,e,r){"use strict";r("0b70")},8593:function(t,e,r){"use strict";r.d(e,"g",(function(){return a})),r.d(e,"b",(function(){return i})),r.d(e,"e",(function(){return o})),r.d(e,"f",(function(){return c})),r.d(e,"h",(function(){return s})),r.d(e,"i",(function(){return u})),r.d(e,"s",(function(){return l})),r.d(e,"c",(function(){return d})),r.d(e,"d",(function(){return p})),r.d(e,"j",(function(){return f})),r.d(e,"k",(function(){return h})),r.d(e,"r",(function(){return m})),r.d(e,"a",(function(){return b})),r.d(e,"n",(function(){return g})),r.d(e,"p",(function(){return y})),r.d(e,"o",(function(){return v})),r.d(e,"m",(function(){return w})),r.d(e,"q",(function(){return x})),r.d(e,"l",(function(){return O}));var n=r("b775");function a(){return Object(n["a"])({url:"/sjbz/sysconfig/insc/all",method:"GET"})}function i(t){return Object(n["a"])({url:"/sjbz/sysconfig/insc/save",method:"PUT",data:t})}function o(){return Object(n["a"])({url:"/sjbz/mobile/brands",method:"GET"})}function c(){return Object(n["a"])({url:"/sjbz/hs/allbrands",method:"GET"})}function s(t){return Object(n["a"])({url:"/sjbz/mobile/productsByBrand",params:t,method:"GET"})}function u(t){return Object(n["a"])({url:"/sjbz/hs/productsByBrandId",params:t,method:"GET"})}function l(t){return Object(n["a"])({url:"/sjbz/hs/updateprice",method:"POST",data:t})}function d(t){return Object(n["a"])({url:"/sjbz/sysconfig/bzp/save",method:"PUT",data:t})}function p(t){return Object(n["a"])({url:"/sjbz/sysconfig/bzp/delete",method:"DELETE",params:{id:t}})}function f(t){return Object(n["a"])({url:"/sjbz/sysconfig/bzp/findBySource",method:"GET",params:t})}function h(){return Object(n["a"])({url:"/sjbz/hs/getHsPriceDiscnt",method:"GET"})}function m(t){return Object(n["a"])({url:"/sjbz/hs/updateHsPriceDiscnt",method:"POST",data:t})}function b(t){return Object(n["a"])({url:"/ucs/express/cancelOrder",method:"POST",data:t})}function g(t){return Object(n["a"])({url:"/excel/bhcx/listBxByPage",method:"GET",params:t})}function y(t){return Object(n["a"])({url:"/excel/bhcx/postChengBao",method:"POST",data:t})}function v(t){return Object(n["a"])({url:"/excel/excel/publicImportData",method:"POST",data:t,headers:{"Content-Type":"multipart/form-data;charset=utf-8"}})}function w(t){return Object(n["a"])({url:"/excel/excel/listBhTbByPage",method:"GET",params:t})}function x(t){return Object(n["a"])({url:"/excel/bhcx/postChengBaoByBatchNo",method:"POST",params:t})}function O(t){return Object(n["a"])({url:"/excel/excel/listBatchNo",method:"GET",params:t})}},"9add":function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"f",(function(){return i})),r.d(e,"d",(function(){return o})),r.d(e,"c",(function(){return c})),r.d(e,"g",(function(){return s})),r.d(e,"i",(function(){return u})),r.d(e,"e",(function(){return l})),r.d(e,"h",(function(){return d})),r.d(e,"b",(function(){return p}));var n=r("b775");function a(t){return Object(n["a"])({qs:!0,url:"/authority/brand/addOrUpdateBrand",method:"POST",data:t})}function i(t){return Object(n["a"])({qs:!0,url:"/authority/brand/listBrand",method:"POST",data:t})}function o(t){return Object(n["a"])({qs:!0,url:"/authority/brand/deleteBrandById",method:"POST",data:t})}function c(t){return Object(n["a"])({qs:!0,url:"/authority/machineProducts/addOrUpdateMachineProducts",method:"POST",data:t})}function s(t){return Object(n["a"])({qs:!0,url:"/authority/machineProducts/listMachineProductsPageByBrandId",method:"POST",data:t})}function u(t){return Object(n["a"])({qs:!0,url:"/authority/machineProducts/loadMachineProductsDetailById",method:"POST",data:t})}function l(t){return Object(n["a"])({qs:!0,url:"/authority/machineProducts/deleteMachineProductsById",method:"POST",data:t})}function d(t){return Object(n["a"])({qs:!0,url:"/authority/machineProducts/loadMachinePartsById",method:"POST",data:t})}function p(t){return Object(n["a"])({qs:!0,url:"/authority/machineProducts/addOrUpdateMMachineParts",method:"POST",data:t})}},a8e8:function(t,e,r){"use strict";r("e9f4")},b775:function(t,e,r){"use strict";r("caad"),r("d3b7"),r("2532");var n=r("bc3a"),a=r.n(n),i=r("5c96"),o=r("4360"),c=r("4328"),s=r.n(c),u=r("e350"),l=a.a.create({baseURL:"https://bj.xiaoyihuanbao.com",timeout:6e5});function d(t,e){Object(i["Message"])({message:t,type:e,duration:5e3})}l.interceptors.request.use((function(t){var e=window.localStorage.getItem("user_id"),r=window.localStorage.getItem("token");r&&(t.headers["token"]=r,t.headers["userId"]=e,t.headers["user_id"]=e,t.headers["companyId"]=o["a"].getters.companyId);var n=Object(u["a"])(t);return"GET"!==t.method&&t.data&&(t.data.postId=n,t.data.userId=t.data.userId||e,t.data=s.a.stringify(t.data)),t}),(function(t){return console.error("Request error:",t),Promise.reject(t)})),l.interceptors.response.use((function(t){var e=t.data;return 200!==t.status||0!==e.ret_code?(d(e.error_msg||e.message||"Error","error"),Promise.reject(new Error(e.message||"Error"))):e}),(function(t){if(console.error("Response error:",t),"ECONNABORTED"===t.code&&t.message.includes("timeout")){var e=t.config;return e.__retryCount>=e.retry?Promise.reject(t):(e.__retryCount=(e.__retryCount||0)+1,new Promise((function(t){return setTimeout(t,e.retryDelay||1)})).then((function(){return l(e)})))}if(t.response)switch(t.response.status){case 401:i["MessageBox"].confirm("您的登录状态异常，您可以留在此页面，也可以重新登录！","状态异常",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then((function(){o["a"].dispatch("user/resetToken").then((function(){location.reload()}))}));break}return d(t.response?t.response.data.message:t.message,"error"),{}})),e["a"]=l},e9f4:function(t,e,r){},f167:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container phoneType"},[r("el-row",{attrs:{gutter:10}},[r("el-col",{staticClass:"leftMenu",attrs:{span:8}},[r("el-card",{staticClass:"asdTable hpd0"},[r("div",{staticClass:"clearfix jianBian",staticStyle:{"line-height":"50px",padding:"0 10px"},attrs:{slot:"header"},slot:"header"},[r("div",{staticClass:"fl"},[r("span",[t._v(" 手机品牌 ")])]),r("div",{staticClass:"fr"},[r("el-button",{staticStyle:{padding:"0px","font-weight":"bold"},attrs:{type:"text"},on:{click:function(e){t.addType=null,t.dialogFormVisible=!0}}},[t._v(" 新增品牌 ")])],1)]),r("div",[r("div",{staticClass:"pbb"},[r("el-input",{attrs:{placeholder:"请输入品牌名称筛选",clearable:""},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1),r("div",{staticClass:"ovflowAuto scrollBar"},[t.brands&&t.brands.length?r("el-tree",{ref:"tree",attrs:{data:t.brands,props:t.defaultProps,"node-key":"id","render-content":t.renderContent,accordion:"","highlight-current":!0,"auto-expand-parent":!0,"filter-node-method":t.filterNode},on:{"node-click":t.checkChange}}):r("el-empty",{attrs:{description:"暂无权限"}})],1)])])],1),t.currentData.id?r("el-col",{attrs:{span:16}},[r("div",[r("el-card",{staticClass:"asdTable",staticStyle:{"margin-left":"0"}},[r("div",{staticClass:"clearfix jianBian",staticStyle:{"line-height":"50px",padding:"0 10px","font-size":"16px","font-weight":"bold"}},[t._v(" "+t._s(t.currentData.brandName)+" "),r("span",{staticStyle:{padding:"0 10px",float:"right"}},[t.pw("SS_J_Operation")?[r("span",{staticClass:"tree_icon tree_add",on:{click:t.addPhoneType}}),r("span",{staticClass:"tree_icon tree_edit",on:{click:function(e){return t.edit(t.currentData,"noLoad")}}}),r("span",{staticClass:"tree_icon tree_del",on:{click:function(e){return t.remove(t.currentData)}}})]:t._e()],2)])]),r("el-card",{staticClass:"asdTable",staticStyle:{"margin-left":"0","margin-top":"10px"}},[r("table-list",{attrs:{list:t.list,current:t.listQuery.current,currentData:t.currentData},on:{reload:t.loadTypeList,"change-show":t.changeShow}})],1),r("pagination",{staticStyle:{"text-align":"center"},attrs:{total:t.total,page:t.listQuery.current,layout:"total, prev, pager, next, jumper",limit:10},on:{"update:page":function(e){return t.$set(t.listQuery,"current",e)},pagination:function(e){return t.loadTypeList()}}})],1)]):t._e()],1),r("el-dialog",{staticClass:"customDialog",attrs:{title:(1==t.addType?"编辑":"新增")+"手机品牌",visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100","label-suffix":":"}},[r("el-form-item",{attrs:{label:"品牌名称",prop:"brandName",rules:[{required:!0,message:"请输入品牌名称",trigger:"blur"}]}},[r("el-input",{staticStyle:{width:"100%"},model:{value:t.form.brandName,callback:function(e){t.$set(t.form,"brandName",e)},expression:"form.brandName"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.addBrand}},[t._v("确 定")])],1)],1),r("el-dialog",{staticClass:"customDialog customDialog2",attrs:{title:"手机颜色管理",visible:t.dialogFormVisible2,width:"50%"},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[r("div",[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.colorForm.value,callback:function(e){t.$set(t.colorForm,"value",e)},expression:"colorForm.value"}},[r("template",{slot:"append"},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.addcolor}},[t._v("添 加")])],1)],2)],1),r("div",{staticClass:"clearfix",staticStyle:{padding:"10px"}},[r("el-card",{staticClass:"pd00 fl",staticStyle:{"margin-right":"5px","margin-bottom":"5px"}},[r("div",[r("span",{staticClass:"contentC"},[t._v("dasdasd")]),r("i",{staticClass:"el-icon-close"})])])],1)])],1)},a=[],i=(r("4de4"),r("c975"),r("ac1f"),r("5319"),r("96cf"),r("1da1")),o=(r("8593"),r("333d")),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-table",{class:{nohasData:!t.list.length},staticStyle:{width:"100%"},attrs:{border:"",data:t.list,size:"small"},on:{"row-click":t.lookDetails}},[r("el-table-column",{attrs:{prop:"a",label:"序号",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1+10*(t.current-1))+" ")]}}])}),r("el-table-column",{attrs:{prop:"productName",label:"市场通俗名称"}}),r("el-table-column",{attrs:{prop:"specifiedFormat",label:"终端制式"}}),r("el-table-column",{attrs:{prop:"rom",label:"ROM"}}),r("el-table-column",{attrs:{prop:"ram",label:"RAM"}}),r("el-table-column",{attrs:{prop:"colour",label:"颜色"}}),r("el-table-column",{attrs:{prop:"marketDate",label:"上市时间"}}),r("el-table-column",{attrs:{prop:"newbornPrice",label:"最新零售价(元)","min-width":"110"}}),t.pw("SS_J_Operation")?r("el-table-column",{attrs:{prop:"",label:"操作",width:"150",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticStyle:{"text-align":"center"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[r("el-button",{attrs:{type:"text"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.setMobileParts(e.row)}}},[t._v(" 配件配置 ")]),r("el-button",{staticClass:"success",staticStyle:{"margin-left":"5px"},attrs:{type:"text"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.edit(e.row)}}},[t._v(" 编辑 ")]),r("el-button",{staticClass:"del",staticStyle:{"margin-left":"5px"},attrs:{type:"text"},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.delTabItem(e.row)}}},[t._v(" 删除 ")])],1)]}}],null,!1,2436233821)}):t._e()],1)],1)},s=[],u=(r("a9e3"),r("9add")),l={filters:{},props:{list:{type:Object,default:function(){return[]}},current:Number,currentData:{type:Object,default:function(){return{}}}},data:function(){return{}},created:function(){},methods:{setMobileParts:function(t){this.$router.push({name:"MobileParts",query:{brandId:t.brandId,productId:t.id}})},lookDetails:function(t,e,r,n){t.type=3,this.$emit("change-show",t)},edit:function(t){this.$router.push({name:"editMobileType",query:{brandId:t.brandId,id:t.id}})},delTabItem:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.$MessageBox.confirm("确定删除当前型号吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function r(){var n,a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(u["e"])({productId:t.id,brandId:t.brandId});case 2:n=r.sent,a=n.code,i=n.msg,0==a&&(e.$message.success(i),e.$emit("reload"));case 6:case"end":return r.stop()}}),r)})))).catch((function(){}));case 1:case"end":return r.stop()}}),r)})))()}}},d=l,p=(r("43ca"),r("2877")),f=Object(p["a"])(d,c,s,!1,null,null,null),h=f.exports,m={components:{Pagination:o["a"],TableList:h},data:function(){return{colorForm:{},dialogFormVisible2:!1,addType:null,form:{},dialogFormVisible:!1,activeName:"1",brands:[],listLoading:!0,list:[],insVisible:!1,listQuery:{current:1,pageSize:10},total:20,defaultProps:{children:"children",label:"brandName"},filterText:"",currentData:{},colorList:[]}},created:function(){this.loadBrand()},watch:{filterText:{handler:function(t){this.$refs.tree.filter(t)}},dialogFormVisible:{handler:function(t){t||(this.form={},this.$refs["form"].resetFields())}}},methods:{addcolor:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.colorForm.value;case 1:case"end":return e.stop()}}),e)})))()},addBrand:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs["form"].validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(r){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=8;break}return e.next=3,Object(u["a"])(t.form);case 3:n=e.sent,n.data,a=n.code,i=n.msg,0===a&&(t.$message.success(i),t.loadBrand(),t.dialogFormVisible=!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()},addPhoneType:function(){this.$router.push({name:"addMobileType",query:{brandId:this.currentData.id,brandName:this.currentData.brandName}})},filterNode:function(t,e){return!t||-1!==e.brandName.indexOf(t)},loadBrand:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["f"])();case 2:r=e.sent,t.brands=r.data||[],t.brands.length&&(location.hash?(t.listQuery.brandId=location.hash.replace("#",""),setTimeout((function(){t.$refs["tree"].setCurrentKey(t.listQuery.brandId);var e=t.brands.filter((function(e){return e.id==t.listQuery.brandId}));e&&e[0]&&(t.currentData=e[0])}),200)):(t.listQuery.brandId=t.brands[0].id,setTimeout((function(){t.$refs["tree"].setCurrentKey(t.listQuery.brandId),t.currentData=t.brands[0]}),200)),t.loadTypeList());case 5:case"end":return e.stop()}}),e)})))()},loadTypeList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.listLoading=!0,e.next=3,Object(u["g"])(t.listQuery);case 3:r=e.sent,n=r.data,n&&(t.total=n.totalCount),t.listLoading=!1,t.list=n.list;case 8:case"end":return e.stop()}}),e)})))()},checkChange:function(t,e,r,n){t.id!=this.listQuery.brandId&&(this.listQuery.brandId=t.id,this.currentData=t,location.hash=t.id,this.loadTypeList())},renderContent:function(t,e){var r=this,n=e.node,a=e.data;e.store;return t("span",{class:"treeAppendBox treeAppendBox2"},[t("span",{class:"dibMw70"},[t("span",[n.label])]),t("span",{style:"float:right",on:{click:function(t){t.stopPropagation()}}},[t("span",{class:"tree_icon2 tree_icon tree_edit",on:{click:function(){return r.edit(a)}},attrs:{title:"编辑"}}),t("span",{class:"tree_icon2 tree_icon tree_del",on:{click:function(){return r.remove(a)}},attrs:{title:"删除"}})])])},append:function(t,e,r){log(t,e,r)},remove:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.$MessageBox.confirm("确定删除当前品牌吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(u["d"])({brandId:t.id});case 2:n=r.sent,a=n.code,0==a&&(e.$message.success("删除成功!"),e.loadBrand());case 5:case"end":return r.stop()}}),r)})))).catch((function(){}));case 1:case"end":return r.stop()}}),r)})))()},edit:function(t){this.addType=1,this.form=JSON.parse(JSON.stringify(t)),this.dialogFormVisible=!0},lookDetails:function(t,e,r){}}},b=m,g=(r("4f64"),Object(p["a"])(b,n,a,!1,null,null,null));e["default"]=g.exports}}]);