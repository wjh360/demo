(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a209cd1e"],{"1ed2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("el-tab-pane",{attrs:{label:"投保数据",name:"1"}},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{model:e.searchQuery,"label-width":"100px",inline:""}},[a("el-form-item",{attrs:{label:"保单号"}},[a("el-input",{staticStyle:{width:"290px"},attrs:{placeholder:"请输入保单号",maxlength:"100"},model:{value:e.searchQuery.policyNo,callback:function(t){e.$set(e.searchQuery,"policyNo",t)},expression:"searchQuery.policyNo"}})],1),a("el-form-item",{attrs:{label:"批次"}},[a("el-select",{staticStyle:{width:"290px"},attrs:{"value-key":"label",placeholder:"请选择批次",filterable:""},model:{value:e.searchQuery.batchNo,callback:function(t){e.$set(e.searchQuery,"batchNo",t)},expression:"searchQuery.batchNo"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.allBatchNoList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.batchNo,value:e.batchNo}})}))],2)],1),a("el-form-item",{attrs:{label:"IMEI"}},[a("el-input",{staticStyle:{width:"290px"},attrs:{placeholder:"输入IMEI查询"},model:{value:e.searchQuery.goodImei,callback:function(t){e.$set(e.searchQuery,"goodImei",t)},expression:"searchQuery.goodImei"}})],1),a("el-form-item",{attrs:{label:"投保时间"}},[a("el-date-picker",{staticStyle:{width:"290px"},attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd"},on:{change:e.changeSearchQuery},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"290px"},attrs:{"value-key":"label",placeholder:"状态"},model:{value:e.searchQuery.isBhInsurance,callback:function(t){e.$set(e.searchQuery,"isBhInsurance",t)},expression:"searchQuery.isBhInsurance"}},[a("el-option",{attrs:{label:"全部",value:null}}),a("el-option",{attrs:{label:"待投保",value:1}}),a("el-option",{attrs:{label:"已投保",value:2}}),a("el-option",{attrs:{label:"投保失败",value:3}})],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v(" 搜索 ")])],1)],1),a("el-card",{staticClass:"pd10 hpd10 upLoadBoxApp upLoadBoxAppBx"},[a("div",{staticClass:"fr clearfix"},[e.pw("EO_Insure_bhinsure_insure")?a("el-button",{staticClass:"fl",attrs:{type:"primary",size:"medium"},on:{click:function(t){e.dialogVisible=!0}}},[e._v(" 投保 ")]):e._e(),a("el-button",{staticClass:"fl",staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.downLoadMoBan("bhtb","渤海投保模板")}}},[e._v("下载模板")]),e.pw("EO_Insure_bhinsure_import")?a("UploadExcel",{staticClass:"fr",on:{reload:e.reloadloadtbTableData}}):e._e()],1),a("TbTable",{attrs:{"table-data":e.tbTablelist},on:{reload:function(t){return e.loadtbTableData(e.query)}}}),a("pagination",{attrs:{total:e.tbTablelist.totalCount,layout:"total, prev, pager, next,jumper",page:e.query.current,limit:10},on:{"update:page":function(t){return e.$set(e.query,"current",t)},pagination:function(t){return e.loadtbTableData(e.query)}}})],1)],1),a("el-tab-pane",{attrs:{label:"测试数据",name:"2"}},[a("el-card",{staticClass:"pd10 hpd10 upLoadBoxApp upLoadBoxAppBx"},[a("div",{staticClass:"clearfix fr"},[a("el-button",{staticClass:"fl",attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.$router.push({name:"testAdd"})}}},[e._v(" 新增 ")])],1),a("data-table",{attrs:{"table-data":e.list},on:{reload:function(t){return e.loadData(e.query)}}})],1)],1)],1),a("el-dialog",{attrs:{title:"渤海投保",visible:e.dialogVisible,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"curOptions",attrs:{model:e.curOptions}},[a("el-form-item",{attrs:{label:"投保批次","label-width":"80px",prop:"batchNo",rules:{required:!0,message:"请选择投保批次",trigger:"submit"}}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"value-key":"label",placeholder:"请选择投保批次",filterable:""},model:{value:e.curOptions.batchNo,callback:function(t){e.$set(e.curOptions,"batchNo",t)},expression:"curOptions.batchNo"}},e._l(e.allBatchNoList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.batchNo,value:e.batchNo}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger",loading:e.curLoading},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"success",loading:e.curLoading},on:{click:e.postFn}},[e._v("提 交")])],1)],1)],1)},r=[],o=(a("4160"),a("ac1f"),a("841c"),a("159b"),a("96cf"),a("1da1")),i=a("3835"),l=a("b775");function s(e){return Object(l["a"])({qs:!0,url:"/authority/info/deleteProductTypeById",method:"POST",data:e})}var c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableData.loading,expression:"tableData.loading"}],attrs:{data:e.tableData.data,"element-loading-text":"加载中","highlight-current-row":"",border:"",size:"mini"},on:{"row-click":e.lookDetails}},[a("el-table-column",{attrs:{label:"ID",width:"100",prop:"id",align:"center"}}),a("el-table-column",{attrs:{label:"渠道代码","min-width":"100",prop:"jsonObj.data.workflow.main.channelCode"}}),a("el-table-column",{attrs:{label:"方案代码","min-width":"100",prop:"jsonObj.data.workflow.main.planCode"}}),a("el-table-column",{attrs:{label:"保险起期","min-width":"100",prop:"jsonObj.data.workflow.main.startDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.jsonObj.data.workflow.main.startDate?e.parseTime(t.row.jsonObj.data.workflow.main.startDate,"{y}-{m}-{d}"):"")+" ")]}}])}),a("el-table-column",{attrs:{label:"期数","min-width":"100",prop:"jsonObj.data.workflow.main.month"}}),a("el-table-column",{attrs:{label:"见费模式","min-width":"100",prop:"jsonObj.data.workflow.main.payFlag"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1==t.row.jsonObj.data.workflow.main.payFlag?"期缴":"趸缴")+" ")]}}])}),a("el-table-column",{attrs:{label:"费率","min-width":"100",prop:"jsonObj.data.workflow.main.rate"}}),a("el-table-column",{attrs:{label:"保额","min-width":"100",prop:"jsonObj.data.premium.amount"}}),a("el-table-column",{attrs:{label:"投保人姓名","min-width":"200","show-overflow-tooltip":"",prop:"jsonObj.data.people.propos.proposName"}}),a("el-table-column",{attrs:{label:"投保人联系电话","min-width":"110",prop:"jsonObj.data.people.propos.proposTel"}}),a("el-table-column",{attrs:{label:"投保人证件号","min-width":"200",prop:"jsonObj.data.people.propos.proposIdentiNo"}}),a("el-table-column",{attrs:{label:"投保人地址","min-width":"200","show-overflow-tooltip":"",prop:"jsonObj.data.people.propos.proposAddress"}}),a("el-table-column",{attrs:{label:"被保人姓名","min-width":"100","show-overflow-tooltip":"",prop:"jsonObj.data.people.insured[0].insuredName"}}),a("el-table-column",{attrs:{label:"被保人证件号","min-width":"180",prop:"jsonObj.data.people.insured[0].insuredIdentiNo"}}),a("el-table-column",{attrs:{label:"被保人联系电话","min-width":"110",prop:"jsonObj.data.people.insured[0].insuredTel"}}),a("el-table-column",{attrs:{label:"被保人性别","min-width":"100",prop:"jsonObj.data.workflow.main.payFlag"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1==t.row.jsonObj.data.people.insured[0].insuredSex?"男":"女")+" ")]}}])}),a("el-table-column",{attrs:{label:"被保人邮箱","min-width":"110","show-overflow-tooltip":"",prop:"jsonObj.data.people.insured[0].insuredMail"}}),a("el-table-column",{attrs:{label:"标的IMEI码","min-width":"150",prop:"jsonObj.data.object.digital.GoodIMEI"}}),a("el-table-column",{attrs:{label:"标的SN码","min-width":"150",prop:"jsonObj.data.object.digital.GoodSN"}}),a("el-table-column",{attrs:{label:"标的品牌","min-width":"120","show-overflow-tooltip":"",prop:"jsonObj.data.object.digital.Goodbrand"}}),a("el-table-column",{attrs:{label:"标的型号","min-width":"200","show-overflow-tooltip":"",prop:"jsonObj.data.object.digital.Goodtypecode"}})],1)],1)},u=[],d=a("ed08"),p={components:{},filters:{},props:{tableData:{type:Object,default:function(){return{loading:!0,data:[]}}}},data:function(){return{parseTime:d["d"]}},created:function(){log(this.tableData.data)},methods:{lookDetails:function(e,t){var a=this;try{var n={},r=e.jsonObj.data.workflow.main;for(var o in r)Object.hasOwnProperty.call(r,o)&&(n[o]=r[o]);var i=e.jsonObj.data.people.propos;for(var l in i.proposTe=i.proposTel,i)Object.hasOwnProperty.call(i,l)&&(n[l]=i[l]);n.amount=e.jsonObj.data.premium.amount;var s=e.jsonObj.data.people.insured[0];for(var c in s.insuredTe=s.insuredTel,s)Object.hasOwnProperty.call(s,c)&&(n[c]=s[c]);var u=e.jsonObj.data.object.digital;for(var d in u)Object.hasOwnProperty.call(u,d)&&(n[d]=u[d]);var p=e.memo||{};if(p){var m=JSON.parse(p);n.policyNo=m.data.policys[0].policyNo}this.lookInfo(t,(function(){a.$router.push({name:"testDetails",query:{item:JSON.stringify(n)}})}))}catch(h){}},onDelete:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("删除后将无法恢复，是否删除？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"确认",cancelButtonText:"取消"}).then(Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,s({id:e});case 2:n=a.sent,r=n.code,o=n.msg,r?t.$message.error(o):t.$message.success("删除成功！"),t.$emit("reload");case 7:case"end":return a.stop()}}),a)})))).catch((function(e){}));case 1:case"end":return a.stop()}}),a)})))()},onChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={activity_id:e.activity_id,status:e.status},a.next=3,updateConfigStatus(n);case 3:r=a.sent,o=r.ret_code,i=r.message,o?t.$message.error(i):(t.$message.success("添加成功！"),t.$emit("reload"));case 7:case"end":return a.stop()}}),a)})))()}}},m=p,h=a("2877"),b=Object(h["a"])(m,c,u,!1,null,null,null),f=b.exports,g=a("333d"),w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{loading:e.exportLoading,type:"primary",icon:"el-icon-download",disabled:e.disabled,size:e.size},on:{click:e.handleClick}},[e._v(" "+e._s(e.txt||"导出")+" ")])},v=[],y=(a("d81d"),a("d3b7"),a("8d41"),"@@wavesContext");function j(e,t){function a(a){var n=Object.assign({},t.value),r=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),o=r.ele;if(o){o.style.position="relative",o.style.overflow="hidden";var i=o.getBoundingClientRect(),l=o.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":(l=document.createElement("span"),l.className="waves-ripple",l.style.height=l.style.width=Math.max(i.width,i.height)+"px",o.appendChild(l)),r.type){case"center":l.style.top=i.height/2-l.offsetHeight/2+"px",l.style.left=i.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(a.pageY-i.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(a.pageX-i.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=r.color,l.className="waves-ripple z-active",!1}}return e[y]?e[y].removeHandle=a:e[y]={removeHandle:a},a}var x={bind:function(e,t){e.addEventListener("click",j(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[y].removeHandle,!1),e.addEventListener("click",j(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[y].removeHandle,!1),e[y]=null,delete e[y]}},O=function(e){e.directive("waves",x)};window.Vue&&(window.waves=x,Vue.use(O)),x.install=O;var k=x,T={name:"Import",directives:{waves:k},props:{txt:null,dataArray:{type:Object,default:function(){return{tableHeader:[],tableVal:[],tableData:[],multiHeader:[],merges:[],filename:""}}},disabled:{type:Boolean,default:!1},size:{type:String,default:"small"},loading:{type:Boolean,default:!1}},data:function(){return{filename:"",bookType:"xlsx",exportLoading:!1}},watch:{loading:{handler:function(e){this.exportLoading=e}}},methods:{handleClick:function(){this.$emit("emit-loadData")},handleDownload:function(){var e=this;this.exportLoading=!0,Promise.all([a.e("chunk-564e4e0f"),a.e("chunk-224816de"),a.e("chunk-2133cd4f")]).then(a.bind(null,"4bf8")).then((function(t){t.export_json_to_excel({header:e.dataArray.tableHeader,data:e.formatJson(e.dataArray.tableVal,e.dataArray.tableData),filename:e.dataArray.filename,bookType:e.bookType,multiHeader:e.dataArray.multiHeader,merges:e.dataArray.merges}),e.exportLoading=!1}))},formatJson:function(e,t){if(t)return t.map((function(t){return e.map((function(e){return"timestamp"===e?Object(d["d"])(t[e]):t[e]}))}))}}},N=T,_=Object(h["a"])(N,w,v,!1,null,"51a145a0",null),C=_.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}}),a("div",[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.handleUpload}},[e._v(" 导入 ")])],1),a("UploadSocket",{attrs:{path:"/importZh/ws",array:e.importList},on:{onUpdate:e.onUpload}}),e.loadings?a("div",{staticClass:"poaLoadingBox"},[1==e.curCode?a("div",{staticClass:"msgBox"},[a("i",{staticClass:"el-icon-loading"}),e._v(" 正在上传 "+e._s(e.fileName||"")+" 文件："+e._s(e.loadNum+" / "+e.curTotal)+"，请稍候... ")]):0==e.curCode?a("div",{staticClass:"msgBox"},[a("i",{staticClass:"el-icon-loading"}),e._v(" 正在读取 "+e._s(e.fileName||"")+" 文件,请勿操作页面... ")]):e._e()]):e._e()],1)},B=[],$=(a("baa5"),a("b0c0"),a("a9e3"),a("8593")),D={components:{},props:{importType:Number,size:{type:String,default:"mini"}},data:function(){return{loadings:!1,curCode:0,batchNumber:null,curTotal:0,fileName:"",loadNum:0}},created:function(){},watch:{loadings:{handler:function(e){this.$emit("input",e)}}},methods:{beforeUpload:function(e){var t=e.size/1024/1024<=20;return!!t||(this.$message({message:"请上传小于5MB的文件",type:"warning"}),!1)},onUpload:function(e){this.curCode=e.code||0,0==this.curCode?(this.curTotal=e.total,0===this.curTotal&&(this.setInit(),this.$message.error("没有读取到有效数据,请确认!"))):1==this.curCode?this.loadNum++:(this.$message.success("导入完成!"),this.setInit(),this.$emit("reload"))},handleDownload:function(e){var t=this;this.$message({type:"warning",message:"导入完成，错误数据将下载至 问题数据.xlsx"}),Promise.all([a.e("chunk-564e4e0f"),a.e("chunk-224816de"),a.e("chunk-2133cd4f")]).then(a.bind(null,"4bf8")).then((function(a){a.export_json_to_excel({header:["渠道名称","省份","地市","地区","门店代码","联系人","联系电话","单数","激励金额","备注"],data:t.formatJson(["channelName","province","city","district","idno","userName","telephone","ds","money","remark"],e),filename:"问题数据",bookType:"xlsx",multiHeader:[],merges:[]}),t.loadings=!1,t.importList=[]}))},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))},setInit:function(){this.loadings=!1,this.loadNum=0,this.curTotal=0,this.curCode=0},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files,a=t[0];if(a){this.loadings=!0;var n=a.name||"";this.batchNumber=n.substr(0,n.lastIndexOf(".")),this.fileName=a.name,this.upload(a)}},upload:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:try{t.$refs["excel-upload-input"].value=null}catch(i){}return n=new FormData,n.append("batchNumber",t.batchNumber),n.append("userId",t.$store.getters.user_id),n.append("importType",8),n.append("file",e),a.next=8,Object($["o"])(n);case 8:r=a.sent,o=r.ret_code,0===o&&(t.loadings=!0);case 11:case"end":return a.stop()}}),a)})))()},isExcel:function(e){return/\.(xlsx|xls|csv)$/.test(e.name)}}},z=D,E=(a("55eb"),a("44fa"),Object(h["a"])(z,S,B,!1,null,"f646a2fc",null)),I=E.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableData.loading,expression:"tableData.loading"}],attrs:{data:e.tableData.data,"element-loading-text":"加载中","highlight-current-row":"",border:"",size:"mini"},on:{"row-click":e.lookDetails}},[a("el-table-column",{attrs:{label:"批次","min-width":"135","show-overflow-tooltip":"",prop:"batchNo"}}),a("el-table-column",{attrs:{label:"标的IMEI","min-width":"135","show-overflow-tooltip":"",prop:"goodImei"}}),a("el-table-column",{attrs:{label:"保险起期","min-width":"100",prop:"startDate"}}),a("el-table-column",{attrs:{label:"保险止期","min-width":"135",prop:"endDate"}}),a("el-table-column",{attrs:{label:"保额(元)","min-width":"100",prop:"amount"}}),a("el-table-column",{attrs:{label:"费率","min-width":"100",prop:"rate"}}),a("el-table-column",{attrs:{label:"期数","min-width":"100",prop:"month"}}),a("el-table-column",{attrs:{label:"被保人姓名","min-width":"100","show-overflow-tooltip":"",prop:"insuredName"}}),a("el-table-column",{attrs:{label:"被保人联系电话","min-width":"120",prop:"insuredTel"}}),a("el-table-column",{attrs:{label:"保单号","min-width":"150",prop:"policyNo"}})],1)],1)},R=[],L={components:{},filters:{},props:{tableData:{type:Object,default:function(){return{loading:!0,data:[]}}}},data:function(){return{parseTime:d["d"]}},created:function(){},methods:{opterItem:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object($["q"])({batchNo:e.batchNo});case 2:a=t.sent,a.code;case 4:case"end":return t.stop()}}),t)})))()},lookDetails:function(e,t){var a=this;try{log(e),this.lookInfo(t,(function(){a.$router.push({name:"bhinsureDetails",query:{item:JSON.stringify(e)}})}))}catch(n){}},onDelete:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("删除后将无法恢复，是否删除？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"确认",cancelButtonText:"取消"}).then(Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,s({id:e});case 2:n=a.sent,r=n.code,o=n.msg,r?t.$message.error(o):t.$message.success("删除成功！"),t.$emit("reload");case 7:case"end":return a.stop()}}),a)})))).catch((function(e){}));case 1:case"end":return a.stop()}}),a)})))()},onChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={activity_id:e.activity_id,status:e.status},a.next=3,updateConfigStatus(n);case 3:r=a.sent,o=r.ret_code,i=r.message,o?t.$message.error(i):(t.$message.success("添加成功！"),t.$emit("reload"));case 7:case"end":return a.stop()}}),a)})))()}}},q=L,A=Object(h["a"])(q,P,R,!1,null,null,null),Q=A.exports,M=(a("3ca3"),a("ddb0"),a("2b3d"),a("bc3a")),V=a.n(M);function G(e,t){V.a.get(location.origin+"https://wjh360.github.io/demo/export/"+e+".xlsx",{responseType:"blob"}).then((function(e){var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",t+".xls"),document.body.appendChild(n),n.click()}))}var H={components:{DataTable:f,Pagination:g["a"],ExportButton:C,UploadExcel:I,TbTable:Q},filters:{},data:function(){return{query:{current:1,isBhInsurance:null,pageSize:10,batchNo:""},list:{loading:!0,data:[],totalCount:0},tbTablelist:{loading:!1,data:[],totalCount:0,pageSize:10,limit:10},searchQuery:{current:1,isBhInsurance:null,pageSize:10,batchNo:""},active:"1",loading:!1,dateValue:[],dialogVisible:!1,curOptions:{batchNo:""},allBatchNoList:[],curLoading:!1}},created:function(){this.loadtbTableData(this.query),this.listBatchNo()},watch:{active:{handler:function(e){1==e?this.loadtbTableData():this.loadData()}},dateValue:{handler:function(e){var t=e&&e.length?e:["",""],a=Object(i["a"])(t,2),n=a[0],r=a[1];this.searchQuery.startDateTimeStart=n||"",this.searchQuery.startDateTimeEnd=r||""}},dialogVisible:{handler:function(e){e?this.$set(this.curOptions,"batchNo",this.searchQuery.batchNo||""):(this.$set(this.curOptions,"batchNo",""),this.$refs["curOptions"].resetFields())}}},methods:{reloadloadtbTableData:function(){this.loadtbTableData(),this.listBatchNo()},postFn:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs["curOptions"].validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return e.curLoading=!0,t.next=4,Object($["q"])({batchNo:e.curOptions.batchNo});case 4:n=t.sent,r=n.ret_code,e.curLoading=!1,0===r&&(e.dialogVisible=!1,e.$message.success("投保成功!"),e.search()),t.next=12;break;case 10:return console.log("error submit!!"),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},listBatchNo:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object($["l"])();case 2:a=t.sent,n=a.data,e.allBatchNoList=n||[];case 5:case"end":return t.stop()}}),t)})))()},loadtbTableData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tbTablelist.loading=!0,t.next=3,Object($["m"])(e.query);case 3:a=t.sent,n=a.data,e.tbTablelist.loading=!1,e.tbTablelist.data=n.list||[],e.tbTablelist.totalCount=n.totalCount;case 8:case"end":return t.stop()}}),t)})))()},loadData:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.list.loading=!0,e.next=3,Object($["n"])();case 3:a=e.sent,n=a.data,n.forEach((function(e){e.jsonStr&&(e.jsonObj=JSON.parse(e.jsonStr))})),t.list.data=n||[],t.list.loading=!1;case 8:case"end":return e.stop()}}),e)})))()},downLoadMoBan:G,search:function(){this.query.page=1,this.query=Object.assign({},this.searchQuery),this.loadtbTableData()}}},U=H,J=(a("e2a0"),Object(h["a"])(U,n,r,!1,null,null,null));t["default"]=J.exports},"320f":function(e,t,a){},"333d":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.total>0?a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1):e._e()},r=[],o=(a("a9e3"),a("ac1f"),a("5319"),a("96cf"),a("1da1"));Math.easeInOutQuad=function(e,t,a,n){return e/=n/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function l(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function c(e,t,a){var n=s(),r=e-n,o=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=o;var s=Math.easeInOutQuad(c,n,r,t);l(s),c<t?i(e):a&&"function"===typeof a&&a()};u()}var u={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},data:function(){return{layouts:""}},created:function(){this.currentPage=this.$route.query.current||this.page,this.handleCurrentChange(this.currentPage)},computed:{currentPage:{get:function(){return this.$route.query.current||this.page},set:function(e){var t=JSON.parse(JSON.stringify(this.$route.query));this.$emit("update:page",e),t.current!=e&&e!=this.page&&(t.current=e,this.$router.replace({path:this.$route.path,query:t}))}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{delete:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=Math.ceil((t.total-e)/t.pageSize),t.currentPage>n&&(t.currentPage=n),t.handleCurrentChange(t.currentPage);case 3:case"end":return a.stop()}}),a)})))()},update:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:log(e),n=Math.ceil((e||1)/t.pageSize),t.currentPage>n&&(t.currentPage=n),t.handleCurrentChange(t.currentPage);case 4:case"end":return a.stop()}}),a)})))()},handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&c(0,800)},handleCurrentChange:function(e){log(7410,e),this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&c(0,800)}}},d=u,p=(a("a8e8"),a("2877")),m=Object(p["a"])(d,n,r,!1,null,"68eacec9",null);t["a"]=m.exports},"44fa":function(e,t,a){"use strict";a("320f")},"55eb":function(e,t,a){"use strict";a("e045")},8593:function(e,t,a){"use strict";a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return i})),a.d(t,"f",(function(){return l})),a.d(t,"h",(function(){return s})),a.d(t,"i",(function(){return c})),a.d(t,"s",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"j",(function(){return m})),a.d(t,"k",(function(){return h})),a.d(t,"r",(function(){return b})),a.d(t,"a",(function(){return f})),a.d(t,"n",(function(){return g})),a.d(t,"p",(function(){return w})),a.d(t,"o",(function(){return v})),a.d(t,"m",(function(){return y})),a.d(t,"q",(function(){return j})),a.d(t,"l",(function(){return x}));var n=a("b775");function r(){return Object(n["a"])({url:"/sjbz/sysconfig/insc/all",method:"GET"})}function o(e){return Object(n["a"])({url:"/sjbz/sysconfig/insc/save",method:"PUT",data:e})}function i(){return Object(n["a"])({url:"/sjbz/mobile/brands",method:"GET"})}function l(){return Object(n["a"])({url:"/sjbz/hs/allbrands",method:"GET"})}function s(e){return Object(n["a"])({url:"/sjbz/mobile/productsByBrand",params:e,method:"GET"})}function c(e){return Object(n["a"])({url:"/sjbz/hs/productsByBrandId",params:e,method:"GET"})}function u(e){return Object(n["a"])({url:"/sjbz/hs/updateprice",method:"POST",data:e})}function d(e){return Object(n["a"])({url:"/sjbz/sysconfig/bzp/save",method:"PUT",data:e})}function p(e){return Object(n["a"])({url:"/sjbz/sysconfig/bzp/delete",method:"DELETE",params:{id:e}})}function m(e){return Object(n["a"])({url:"/sjbz/sysconfig/bzp/findBySource",method:"GET",params:e})}function h(){return Object(n["a"])({url:"/sjbz/hs/getHsPriceDiscnt",method:"GET"})}function b(e){return Object(n["a"])({url:"/sjbz/hs/updateHsPriceDiscnt",method:"POST",data:e})}function f(e){return Object(n["a"])({url:"/ucs/express/cancelOrder",method:"POST",data:e})}function g(e){return Object(n["a"])({url:"/excel/bhcx/listBxByPage",method:"GET",params:e})}function w(e){return Object(n["a"])({url:"/excel/bhcx/postChengBao",method:"POST",data:e})}function v(e){return Object(n["a"])({url:"/excel/excel/publicImportData",method:"POST",data:e,headers:{"Content-Type":"multipart/form-data;charset=utf-8"}})}function y(e){return Object(n["a"])({url:"/excel/excel/listBhTbByPage",method:"GET",params:e})}function j(e){return Object(n["a"])({url:"/excel/bhcx/postChengBaoByBatchNo",method:"POST",params:e})}function x(e){return Object(n["a"])({url:"/excel/excel/listBatchNo",method:"GET",params:e})}},"8d41":function(e,t,a){},a8e8:function(e,t,a){"use strict";a("e9f4")},ac98:function(e,t,a){},b775:function(e,t,a){"use strict";a("caad"),a("d3b7"),a("2532");var n=a("bc3a"),r=a.n(n),o=a("5c96"),i=a("4360"),l=a("4328"),s=a.n(l),c=a("e350"),u=r.a.create({baseURL:"https://bj.xiaoyihuanbao.com",timeout:6e5});function d(e,t){Object(o["Message"])({message:e,type:t,duration:5e3})}u.interceptors.request.use((function(e){var t=window.localStorage.getItem("user_id"),a=window.localStorage.getItem("token");a&&(e.headers["token"]=a,e.headers["userId"]=t,e.headers["user_id"]=t,e.headers["companyId"]=i["a"].getters.companyId);var n=Object(c["a"])(e);return"GET"!==e.method&&e.data&&(e.data.postId=n,e.data.userId=e.data.userId||t,e.data=s.a.stringify(e.data)),e}),(function(e){return console.error("Request error:",e),Promise.reject(e)})),u.interceptors.response.use((function(e){var t=e.data;return 200!==e.status||0!==t.ret_code?(d(t.error_msg||t.message||"Error","error"),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){if(console.error("Response error:",e),"ECONNABORTED"===e.code&&e.message.includes("timeout")){var t=e.config;return t.__retryCount>=t.retry?Promise.reject(e):(t.__retryCount=(t.__retryCount||0)+1,new Promise((function(e){return setTimeout(e,t.retryDelay||1)})).then((function(){return u(t)})))}if(e.response)switch(e.response.status){case 401:o["MessageBox"].confirm("您的登录状态异常，您可以留在此页面，也可以重新登录！","状态异常",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then((function(){i["a"].dispatch("user/resetToken").then((function(){location.reload()}))}));break}return d(e.response?e.response.data.message:e.message,"error"),{}})),t["a"]=u},e045:function(e,t,a){},e2a0:function(e,t,a){"use strict";a("ac98")},e9f4:function(e,t,a){}}]);