(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fb55b1e"],{"10ff":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-select",{on:{change:e.filterList},model:{value:e.listQuery.biz_source,callback:function(t){e.$set(e.listQuery,"biz_source",t)},expression:"listQuery.biz_source"}},e._l(e.productOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1),n("el-card",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,border:"",stripe:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{prop:"id",label:"ID",align:"center"}}),n("el-table-column",{attrs:{prop:"product_name",label:"产品名称",align:"center"}}),n("el-table-column",{attrs:{prop:"biz_source",label:"产品类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("levelFilter")(t.row.biz_source))+" ")]}}])}),n("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.showDialog(t.row)}}},[e._v("新增")])]}},{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.showDialog(t.row)}}},[e._v("查看")])]}}])})],1)],1),n("el-dialog",{attrs:{title:"查看",visible:e.insVisible},on:{"update:visible":function(t){e.insVisible=t}}},[n("el-form",{ref:"info",attrs:{model:e.info,"label-position":"left","label-width":"100px"}},[n("el-form-item",{attrs:{label:"产品类型"}},[n("el-select",{model:{value:e.info.biz_source,callback:function(t){e.$set(e.info,"biz_source",t)},expression:"info.biz_source"}},e._l(e.productOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"所属省份"}},[n("el-cascader",{attrs:{size:"large",options:e.areaOptions},on:{change:e.handleChange},model:{value:e.info.area,callback:function(t){e.$set(e.info,"area",t)},expression:"info.area"}})],1),n("el-form-item",{attrs:{label:"产品名称"}},[n("el-input",{model:{value:e.info.product_name,callback:function(t){e.$set(e.info,"product_name",t)},expression:"info.product_name"}})],1),n("el-form-item",{attrs:{label:"档位"}},[n("el-input",{model:{value:e.info.price_period,callback:function(t){e.$set(e.info,"price_period",t)},expression:"info.price_period"}})],1),n("el-form-item",{attrs:{label:"月费"}},[n("el-input",{model:{value:e.info.month_fee,callback:function(t){e.$set(e.info,"month_fee",t)},expression:"info.month_fee"}})],1),n("el-form-item",{attrs:{label:"置换手续费"}},[n("el-input",{model:{value:e.info.charge_fee,callback:function(t){e.$set(e.info,"charge_fee",t)},expression:"info.charge_fee"}})],1),n("el-form-item",{attrs:{label:"备注"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.info.remark,callback:function(t){e.$set(e.info,"remark",t)},expression:"info.remark"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"info"},on:{click:function(t){e.insVisible=!1}}},[e._v("取 消")]),e.info.id?e._e():n("el-button",{attrs:{type:"success"},on:{click:e.create}},[e._v("确 定")])],1)],1)],1)},a=[],o=(n("b680"),n("96cf"),n("1da1")),i=n("ef6c"),s=n("8593"),c={biz_source:"",product_name:"",price_period:"",month_fee:"",remark:"",post_code:"",area:["110000",""]},u={name:"InsList",filters:{levelFilter:function(e){var t={1:"回收产品",2:"保障产品",3:"意外换新"};return t[e]}},data:function(){return{areaOptions:i["provinceAndCityDataPlus"],selectedArea:["610000",""],listLoading:!0,list:null,insVisible:!1,listQuery:{biz_source:1},info:Object.assign({},c),productOptions:[{name:"回收产品",value:1},{name:"保障产品",value:2},{name:"意外换新",value:3}]}},created:function(){this.fetchData()},methods:{filterList:function(){this.fetchData()},formatPrice:function(e){return(e/100).toFixed(2)},fetchData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!1,t.next=3,Object(s["j"])(e.listQuery);case 3:n=t.sent,e.listLoading=!1,e.list=n.data,console.log(n);case 7:case"end":return t.stop()}}),t)})))()},showDialog:function(e){this.insVisible=!0,e?(e.area=["",""],this.info=e,this.info.month_fee=this.formatPrice(e.month_fee),this.info.charge_fee=this.formatPrice(e.charge_fee),this.info.area[0]=String(e.post_code)):this.info=Object.assign({},c)},create:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.info.id){t.next=12;break}return e.info.month_fee=100*e.info.month_fee,e.info.charge_fee=100*e.info.charge_fee,t.next=5,Object(s["c"])(e.info);case 5:n=t.sent,r=n.message,e.$message({type:"success",message:"修改"+r+"!"}),e.insVisible=!1,e.fetchData(),t.next=13;break;case 12:e.insVisible=!1;case 13:case"end":return t.stop()}}),t)})))()},deleteInfo:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(s["d"])(e.id);case 2:r=n.sent,a=r.message,t.$message({type:"success",message:"删除"+a+"!"}),t.fetchData();case 6:case"end":return n.stop()}}),n)})))()},handleChange:function(e){console.log(e),this.info.post_code=e[0]}}},l=u,f=n("2877"),d=Object(f["a"])(l,r,a,!1,null,"6ca3f3a6",null);t["default"]=d.exports},8593:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"s",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"r",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"n",(function(){return g})),n.d(t,"p",(function(){return _})),n.d(t,"o",(function(){return v})),n.d(t,"m",(function(){return j})),n.d(t,"q",(function(){return O})),n.d(t,"l",(function(){return y}));var r=n("b775");function a(){return Object(r["a"])({url:"/sjbz/sysconfig/insc/all",method:"GET"})}function o(e){return Object(r["a"])({url:"/sjbz/sysconfig/insc/save",method:"PUT",data:e})}function i(){return Object(r["a"])({url:"/sjbz/mobile/brands",method:"GET"})}function s(){return Object(r["a"])({url:"/sjbz/hs/allbrands",method:"GET"})}function c(e){return Object(r["a"])({url:"/sjbz/mobile/productsByBrand",params:e,method:"GET"})}function u(e){return Object(r["a"])({url:"/sjbz/hs/productsByBrandId",params:e,method:"GET"})}function l(e){return Object(r["a"])({url:"/sjbz/hs/updateprice",method:"POST",data:e})}function f(e){return Object(r["a"])({url:"/sjbz/sysconfig/bzp/save",method:"PUT",data:e})}function d(e){return Object(r["a"])({url:"/sjbz/sysconfig/bzp/delete",method:"DELETE",params:{id:e}})}function m(e){return Object(r["a"])({url:"/sjbz/sysconfig/bzp/findBySource",method:"GET",params:e})}function b(){return Object(r["a"])({url:"/sjbz/hs/getHsPriceDiscnt",method:"GET"})}function p(e){return Object(r["a"])({url:"/sjbz/hs/updateHsPriceDiscnt",method:"POST",data:e})}function h(e){return Object(r["a"])({url:"/ucs/express/cancelOrder",method:"POST",data:e})}function g(e){return Object(r["a"])({url:"/excel/bhcx/listBxByPage",method:"GET",params:e})}function _(e){return Object(r["a"])({url:"/excel/bhcx/postChengBao",method:"POST",data:e})}function v(e){return Object(r["a"])({url:"/excel/excel/publicImportData",method:"POST",data:e,headers:{"Content-Type":"multipart/form-data;charset=utf-8"}})}function j(e){return Object(r["a"])({url:"/excel/excel/listBhTbByPage",method:"GET",params:e})}function O(e){return Object(r["a"])({url:"/excel/bhcx/postChengBaoByBatchNo",method:"POST",params:e})}function y(e){return Object(r["a"])({url:"/excel/excel/listBatchNo",method:"GET",params:e})}},b775:function(e,t,n){"use strict";n("caad"),n("d3b7"),n("2532");var r=n("bc3a"),a=n.n(r),o=n("5c96"),i=n("4360"),s=n("4328"),c=n.n(s),u=n("e350"),l=a.a.create({baseURL:"https://bj.xiaoyihuanbao.com",timeout:6e5});function f(e,t){Object(o["Message"])({message:e,type:t,duration:5e3})}l.interceptors.request.use((function(e){var t=window.localStorage.getItem("user_id"),n=window.localStorage.getItem("token");n&&(e.headers["token"]=n,e.headers["userId"]=t,e.headers["user_id"]=t,e.headers["companyId"]=i["a"].getters.companyId);var r=Object(u["a"])(e);return"GET"!==e.method&&e.data&&(e.data.postId=r,e.data.userId=e.data.userId||t,e.data=c.a.stringify(e.data)),e}),(function(e){return console.error("Request error:",e),Promise.reject(e)})),l.interceptors.response.use((function(e){var t=e.data;return 200!==e.status||0!==t.ret_code?(f(t.error_msg||t.message||"Error","error"),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){if(console.error("Response error:",e),"ECONNABORTED"===e.code&&e.message.includes("timeout")){var t=e.config;return t.__retryCount>=t.retry?Promise.reject(e):(t.__retryCount=(t.__retryCount||0)+1,new Promise((function(e){return setTimeout(e,t.retryDelay||1)})).then((function(){return l(t)})))}if(e.response)switch(e.response.status){case 401:o["MessageBox"].confirm("您的登录状态异常，您可以留在此页面，也可以重新登录！","状态异常",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then((function(){i["a"].dispatch("user/resetToken").then((function(){location.reload()}))}));break}return f(e.response?e.response.data.message:e.message,"error"),{}})),t["a"]=l}}]);