(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e078d4e"],{"4bec":function(t,n,r){"use strict";r.r(n);var e=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"randomImgBox"},[r("div",{staticStyle:{margin:"0 50px"}},[r("el-button",{attrs:{type:"primary"},on:{click:t.getrandomNum}},[t._v("切换")])],1),r("div",{staticClass:"randomImg"},t._l(3,(function(n){return r("img",{key:n,class:{noCur:-1!==t.curIdx&&t.curIdx!==n},attrs:{src:"https://picsum.photos/300/300?"+n+t.randomNum,alt:"",crossOrigin:"anonymous"},on:{mouseenter:function(r){return t.enterImg(r.target,n)},mouseleave:function(r){return t.leaveImg(n)}}})})),0)])},o=[],a=(r("99af"),r("d81d"),r("96cf"),r("1da1"));if(!u)var u={map:function(t,n){var r={};return n?t.map((function(t,e){return r.index=e,n.call(r,t)})):t.slice()},naturalOrder:function(t,n){return t<n?-1:t>n?1:0},sum:function(t,n){var r={};return t.reduce(n?function(t,e,o){return r.index=o,t+n.call(r,e)}:function(t,n){return t+n},0)},max:function(t,n){return Math.max.apply(null,n?u.map(t,n):t)}};var c=function(){var t=5,n=8-t,r=1e3;function e(n,r,e){return(n<<2*t)+(r<<t)+e}function o(t){var n=[],r=!1;function e(){n.sort(t),r=!0}return{push:function(t){n.push(t),r=!1},peek:function(t){return r||e(),void 0===t&&(t=n.length-1),n[t]},pop:function(){return r||e(),n.pop()},size:function(){return n.length},map:function(t){return n.map(t)},debug:function(){return r||e(),n}}}function a(t,n,r,e,o,a,u){var i=this;i.r1=t,i.r2=n,i.g1=r,i.g2=e,i.b1=o,i.b2=a,i.histo=u}function i(){this.vboxes=new o((function(t,n){return u.naturalOrder(t.vbox.count()*t.vbox.volume(),n.vbox.count()*n.vbox.volume())}))}function c(t,n){if(n.count()){var r=n.r2-n.r1+1,o=n.g2-n.g1+1,a=u.max([r,o,n.b2-n.b1+1]);if(1==n.count())return[n.copy()];var i,c,s,f,l=0,h=[],v=[];if(a==r)for(i=n.r1;i<=n.r2;i++){for(f=0,c=n.g1;c<=n.g2;c++)for(s=n.b1;s<=n.b2;s++)f+=t[e(i,c,s)]||0;h[i]=l+=f}else if(a==o)for(i=n.g1;i<=n.g2;i++){for(f=0,c=n.r1;c<=n.r2;c++)for(s=n.b1;s<=n.b2;s++)f+=t[e(c,i,s)]||0;h[i]=l+=f}else for(i=n.b1;i<=n.b2;i++){for(f=0,c=n.r1;c<=n.r2;c++)for(s=n.g1;s<=n.g2;s++)f+=t[e(c,s,i)]||0;h[i]=l+=f}return h.forEach((function(t,n){v[n]=l-t})),function(t){var r,e,o,a,u,c=t+"1",s=t+"2",f=0;for(i=n[c];i<=n[s];i++)if(h[i]>l/2){for(o=n.copy(),a=n.copy(),u=(r=i-n[c])<=(e=n[s]-i)?Math.min(n[s]-1,~~(i+e/2)):Math.max(n[c],~~(i-1-r/2));!h[u];)u++;for(f=v[u];!f&&h[u-1];)f=v[--u];return o[s]=u,a[c]=o[s]+1,[o,a]}}(a==r?"r":a==o?"g":"b")}}return a.prototype={volume:function(t){var n=this;return n._volume&&!t||(n._volume=(n.r2-n.r1+1)*(n.g2-n.g1+1)*(n.b2-n.b1+1)),n._volume},count:function(t){var n=this,r=n.histo;if(!n._count_set||t){var o,a,u,i=0;for(o=n.r1;o<=n.r2;o++)for(a=n.g1;a<=n.g2;a++)for(u=n.b1;u<=n.b2;u++)i+=r[e(o,a,u)]||0;n._count=i,n._count_set=!0}return n._count},copy:function(){var t=this;return new a(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(n){var r=this,o=r.histo;if(!r._avg||n){var a,u,i,c,s=0,f=1<<8-t,l=0,h=0,v=0;for(u=r.r1;u<=r.r2;u++)for(i=r.g1;i<=r.g2;i++)for(c=r.b1;c<=r.b2;c++)s+=a=o[e(u,i,c)]||0,l+=a*(u+.5)*f,h+=a*(i+.5)*f,v+=a*(c+.5)*f;r._avg=s?[~~(l/s),~~(h/s),~~(v/s)]:[~~(f*(r.r1+r.r2+1)/2),~~(f*(r.g1+r.g2+1)/2),~~(f*(r.b1+r.b2+1)/2)]}return r._avg},contains:function(t){var r=this,e=t[0]>>n;return gval=t[1]>>n,bval=t[2]>>n,e>=r.r1&&e<=r.r2&&gval>=r.g1&&gval<=r.g2&&bval>=r.b1&&bval<=r.b2}},i.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map((function(t){return t.color}))},size:function(){return this.vboxes.size()},map:function(t){for(var n=this.vboxes,r=0;r<n.size();r++)if(n.peek(r).vbox.contains(t))return n.peek(r).color;return this.nearest(t)},nearest:function(t){for(var n,r,e,o=this.vboxes,a=0;a<o.size();a++)((r=Math.sqrt(Math.pow(t[0]-o.peek(a).color[0],2)+Math.pow(t[1]-o.peek(a).color[1],2)+Math.pow(t[2]-o.peek(a).color[2],2)))<n||void 0===n)&&(n=r,e=o.peek(a).color);return e},forcebw:function(){var t=this.vboxes;t.sort((function(t,n){return u.naturalOrder(u.sum(t.color),u.sum(n.color))}));var n=t[0].color;n[0]<5&&n[1]<5&&n[2]<5&&(t[0].color=[0,0,0]);var r=t.length-1,e=t[r].color;e[0]>251&&e[1]>251&&e[2]>251&&(t[r].color=[255,255,255])}},{quantize:function(s,f){if(!s.length||f<2||f>256)return!1;var l=function(r){var o,a=new Array(1<<3*t);return r.forEach((function(t){o=e(t[0]>>n,t[1]>>n,t[2]>>n),a[o]=(a[o]||0)+1})),a}(s);l.forEach((function(){}));var h=function(t,r){var e,o,u,i=1e6,c=0,s=1e6,f=0,l=1e6,h=0;return t.forEach((function(t){(e=t[0]>>n)<i?i=e:e>c&&(c=e),(o=t[1]>>n)<s?s=o:o>f&&(f=o),(u=t[2]>>n)<l?l=u:u>h&&(h=u)})),new a(i,c,s,f,l,h,r)}(s,l),v=new o((function(t,n){return u.naturalOrder(t.count(),n.count())}));function g(t,n){for(var e,o=t.size(),a=0;a<r;){if(o>=n)return;if(a++>r)return;if((e=t.pop()).count()){var u=c(l,e),i=u[0],s=u[1];if(!i)return;t.push(i),s&&(t.push(s),o++)}else t.push(e),a++}}v.push(h),g(v,.75*f);for(var p=new o((function(t,n){return u.naturalOrder(t.count()*t.volume(),n.count()*n.volume())}));v.size();)p.push(v.pop());g(p,f);for(var m=new i;p.size();)m.push(p.pop());return m}}}().quantize,s=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};s.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var f=function(){};f.prototype.getColor=function(t,n){return void 0===n&&(n=10),this.getPalette(t,5,n)[0]},f.prototype.getPalette=function(t,n,r){var e=function(t){var n=t.colorCount,r=t.quality;if(void 0!==n&&Number.isInteger(n)){if(1===n)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");n=Math.max(n,2),n=Math.min(n,20)}else n=10;return(void 0===r||!Number.isInteger(r)||r<1)&&(r=10),{colorCount:n,quality:r}}({colorCount:n,quality:r}),o=new s(t),a=function(t,n,r){for(var e,o,a,u,i,c=t,s=[],f=0;f<n;f+=r)o=c[0+(e=4*f)],a=c[e+1],u=c[e+2],(void 0===(i=c[e+3])||i>=125)&&(o>250&&a>250&&u>250||s.push([o,a,u]));return s}(o.getImageData().data,o.width*o.height,e.quality),u=c(a,e.colorCount);return u?u.palette():null},f.prototype.getColorFromUrl=function(t,n,r){var e=this,o=document.createElement("img");o.addEventListener("load",(function(){var a=e.getPalette(o,5,r);n(a[0],t)})),o.src=t},f.prototype.getImageData=function(t,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){if(200==this.status){var t=new Uint8Array(this.response);i=t.length;for(var r=new Array(i),e=0;e<t.length;e++)r[e]=String.fromCharCode(t[e]);var o=r.join(""),a=window.btoa(o);n("data:image/png;base64,"+a)}},r.send()},f.prototype.getColorAsync=function(t,n,r){var e=this;this.getImageData(t,(function(t){var o=document.createElement("img");o.addEventListener("load",(function(){var t=e.getPalette(o,5,r);n(t[0],this)})),o.src=t}))};var l=document.documentElement.style,h=new f,v={name:"",data:function(){return{randomNum:0,curIdx:-1}},created:function(){},methods:{enterImg:function(t,n){var r=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h.getPalette(t,3);case 2:o=e.sent,o=o.map((function(t){return"rgb(".concat(t[0],",").concat(t[1],",").concat(t[2],")")})),l.setProperty("--c1",o[0]),l.setProperty("--c2",o[1]),l.setProperty("--c3",o[2]),r.curIdx=n;case 8:case"end":return e.stop()}}),e)})))()},leaveImg:function(t){this.curIdx=-1,l.setProperty("--c1","#fff"),l.setProperty("--c2","#fff"),l.setProperty("--c3","#fff")},getrandomNum:function(){this.randomNum=(new Date).getTime()},downImg:function(t){t="https://picsum.photos/1920/800";var n=new Image;n.setAttribute("crossOrigin","anonymous"),n.onload=function(){var t=document.createElement("canvas");t.width=n.width,t.height=n.height;var r=t.getContext("2d");r.drawImage(n,0,0,n.width,n.height);var e=t.toDataURL("image/png"),o=document.createElement("a"),a=new MouseEvent("click");o.download="下载图片名称",o.href=e,o.dispatchEvent(a)},n.src=t,this.$message.info("下载成功")}}},g=v,p=(r("79c1"),r("2877")),m=Object(p["a"])(g,e,o,!1,null,null,null);n["default"]=m.exports},"4bfd":function(t,n,r){},"79c1":function(t,n,r){"use strict";r("4bfd")}}]);